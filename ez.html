<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ§¬ å½¥å½¬ è‡ªæª¢è¡¨ç³»çµ± - å°ˆæ¥­å¥åº·è©•ä¼°å¹³å°</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: { 
            primary: '#008C76', // é«˜ç´šæ·±ç¶ ï¼ˆæ›¿ä»£åŸæœ‰æ·ºç¶ ï¼‰
            secondary: '#E8F9F7', // è¼•æŸ”è¼”è‰²
            accent: '#FFD700', // é‡‘è‰²é»ç¶´ï¼ˆæå‡é«˜ç´šæ„Ÿï¼‰
            dark: '#1A202C',
            lightBg: '#F9FAFB',
            neutral: '#F3F4F6',
            cardBg: '#FFFFFF',
            textPrimary: '#1E293B',
            textSecondary: '#64748B'
          },
          fontFamily: { 
            sans: ['Noto Sans TC', 'sans-serif', 'system-ui'],
            display: ['Noto Sans TC', 'sans-serif', 'system-ui']
          },
          boxShadow: {
            'elevation-1': '0 2px 8px rgba(0, 0, 0, 0.06)',
            'elevation-2': '0 4px 16px rgba(0, 0, 0, 0.08)',
            'elevation-3': '0 8px 24px rgba(0, 0, 0, 0.12)',
            'elevation-hover': '0 12px 32px rgba(0, 0, 0, 0.15)',
          }
        }
      }
    };
  </script>

  <style type="text/tailwindcss">
    @layer utilities {
      .fade-in { animation: fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
      .slide-up { animation: slideUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); }
      .scale-in { animation: scaleIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); }
      .pulse-subtle { animation: pulseSubtle 2s infinite; }
      .gradient-text { background-clip: text; -webkit-background-clip: text; color: transparent; }
      .card-hover { transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
      .btn-hover { transition: all 0.25s cubic-bezier(0.34, 1.56, 0.64, 1); }
      .factor-tag { font-size: 0.75rem; padding: 0.2rem 0.4rem; border-radius: 6px; font-weight: 500; }
      .input-focus { @apply focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition-all; }
    }

    @keyframes fadeIn { 
      from { opacity: 0; } 
      to { opacity: 1; } 
    }
    @keyframes slideUp { 
      from { transform: translateY(30px); opacity: 0; } 
      to { transform: translateY(0); opacity: 1; } 
    }
    @keyframes scaleIn { 
      from { transform: scale(0.96); opacity: 0; } 
      to { transform: scale(1); opacity: 1; } 
    }
    @keyframes pulseSubtle {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.8; }
    }

    /* è‡ªå®šç¾©æ»¾å‹•æ¢ï¼ˆæå‡é«˜ç´šæ„Ÿï¼‰ */
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: #F1F5F9; border-radius: 4px; }
    ::-webkit-scrollbar-thumb { background: #CBD5E1; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #94A3B8; }

    body {
      font-feature-settings: "palt";
      letter-spacing: 0.02em;
    }
  </style>
</head>
<body class="bg-lightBg min-h-screen flex flex-col p-4 md:p-8">
  <!-- é é¢å®¹å™¨ï¼ˆé™åˆ¶æœ€å¤§å¯¬åº¦ï¼Œæå‡å±…ä¸­é«”é©—ï¼‰ -->
  <div class="max-w-5xl w-full bg-cardBg rounded-2xl shadow-elevation-2 overflow-hidden fade-in self-center">
    <!-- é ‚éƒ¨æ¨™é¡Œå€åŸŸï¼ˆé«˜ç´šæ¼¸è®Š+ç²¾ç·»ä½ˆå±€ï¼‰ -->
    <div class="bg-gradient-to-r from-primary to-[#006658] p-8 md:p-10 text-white text-center relative overflow-hidden">
      <!-- è£é£¾å…ƒç´ ï¼ˆæå‡è³ªæ„Ÿï¼‰ -->
      <div class="absolute top-0 left-0 w-32 h-32 bg-white/5 rounded-full -translate-x-1/2 -translate-y-1/2"></div>
      <div class="absolute bottom-0 right-0 w-48 h-48 bg-white/5 rounded-full translate-x-1/3 translate-y-1/3"></div>
      
      <div class="relative z-10">
        <div class="inline-flex items-center justify-center w-16 h-16 bg-white/10 backdrop-blur-sm rounded-full mb-4 pulse-subtle">
          <i class="fa fa-heartbeat text-3xl text-accent"></i>
        </div>
        <h1 class="text-3xl md:text-4xl font-bold mb-2 tracking-wide">ğŸ§¬ å½¥å½¬ è‡ªæª¢è¡¨ç³»çµ±</h1>
        <p class="text-white/90 text-lg md:text-xl font-light">å°ˆæ¥­å¥åº·è©•ä¼° Â· ç²¾æº–å°æ‡‰ä¸ƒå¤§å¥åº·è¦ç´ </p>
      </div>
    </div>

    <!-- ä¸»è¦å…§å®¹å€åŸŸ -->
    <div class="p-6 md:p-8">
      <!-- åŠ è¼‰ç‹€æ…‹ï¼ˆç²¾ç·»åŒ–ï¼‰ -->
      <div id="status" class="flex items-center justify-center py-10 text-textPrimary text-center">
        <div class="text-center">
          <div class="inline-block animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary mb-4"></div>
          <p id="status-text" class="text-lg">æ­£åœ¨åˆå§‹åŒ–ç³»çµ±ï¼Œè«‹ç¨å€™...</p>
        </div>
      </div>

      <!-- éŒ¯èª¤æç¤ºï¼ˆé«˜ç´šåŒ–æ¨£å¼ï¼‰ -->
      <div id="error-message" class="hidden bg-red-50 border border-red-100 text-red-700 px-6 py-4 rounded-xl mb-6 shadow-sm">
        <div class="flex items-start">
          <i class="fa fa-exclamation-circle text-red-500 mt-1 mr-3 text-xl"></i>
          <div id="error-content"></div>
        </div>
      </div>

      <!-- ç”¨æˆ¶é©—è­‰çµæœå¡ç‰‡ï¼ˆé«˜ç´šåŒ–è¨­è¨ˆï¼‰ -->
      <div id="result-card" class="hidden bg-gradient-to-r from-secondary to-[#F0FAF8] border border-primary/15 rounded-2xl p-6 mb-8 text-center slide-up relative overflow-hidden">
        <!-- è£é£¾å…ƒç´  -->
        <div class="absolute top-0 right-0 w-24 h-24 bg-primary/5 rounded-full translate-x-1/2 -translate-y-1/2"></div>
        
        <div class="relative z-10">
          <div id="result-main" class="text-xl md:text-2xl font-bold mb-3 text-textPrimary"></div>
          <div id="result-details" class="text-base text-textSecondary space-y-1.5 md:space-y-2">
            <!-- ç”¨æˆ¶ä¿¡æ¯å°‡å‹•æ…‹å¡«å…… -->
          </div>
          
          <!-- åˆ†éš”ç·šï¼ˆç²¾ç·»åŒ–ï¼‰ -->
          <div class="w-24 h-0.5 bg-primary/20 mx-auto my-4"></div>
          
          <p class="text-sm text-textSecondary/80">
            <i class="fa fa-info-circle text-primary mr-1"></i>
            è«‹æ ¹æ“šè‡ªèº«ç‹€æ³å¦‚å¯¦å¡«å¯«ï¼Œç³»çµ±å°‡ç‚ºæ‚¨æä¾›å°ˆæ¥­åƒè€ƒ
          </p>
        </div>
      </div>

      <!-- è‡ªæª¢è¡¨å€åŸŸ - é è¨­éš±è— -->
      <div id="checklist-section" class="hidden scale-in">
        <!-- è‡ªæª¢è¡¨æ¨™é¡Œå€åŸŸï¼ˆé«˜ç´šæ’ç‰ˆï¼‰ -->
        <div class="mb-8 text-center">
          <h2 class="text-2xl md:text-3xl font-bold text-textPrimary mb-3">
            <span class="gradient-text bg-gradient-to-r from-primary to-[#006658]">è‡ªæª¢è¡¨å¡«å¯«å€åŸŸ</span>
          </h2>
          <p class="text-textSecondary max-w-2xl mx-auto mb-6">
            è«‹æ ¹æ“šè‡ªèº«æƒ…æ³å‹¾é¸å°æ‡‰ç—‡ç‹€ï¼Œä¸¦å¡«å¯«ç—‡ç‹€ç›¸é—œè³‡è¨Šï¼Œå¹«åŠ©æˆ‘å€‘æ›´ç²¾ç¢ºåœ°è©•ä¼°æ‚¨çš„å¥åº·ç‹€æ…‹
          </p>
          
          <!-- ä¸ƒå¤§è¦ç´ æ¨™ç±¤ï¼ˆé«˜ç´šåŒ–æ¨£å¼ï¼‰ -->
          <div class="mt-4 flex flex-wrap justify-center gap-2.5 text-sm">
            <span class="bg-blue-50 text-blue-700 factor-tag">æ°£è¡€ä¸è¶³</span>
            <span class="bg-green-50 text-green-700 factor-tag">å¾®å¾ªç’°ä¸é€š</span>
            <span class="bg-yellow-50 text-yellow-700 factor-tag">æ¯’ç´ </span>
            <span class="bg-orange-50 text-orange-700 factor-tag">è¡€è„‚ç²˜ç¨ </span>
            <span class="bg-purple-50 text-purple-700 factor-tag">å¯’æ¶¼æ¿•ç—‡</span>
            <span class="bg-pink-50 text-pink-700 factor-tag">å…ç–«</span>
            <span class="bg-indigo-50 text-indigo-700 factor-tag">æƒ…ç·’</span>
          </div>
        </div>

        <!-- ç—‡ç‹€éæ¿¾èˆ‡çµ±è¨ˆï¼ˆé«˜ç´šåŒ–ä½ˆå±€ï¼‰ -->
        <div class="bg-neutral rounded-2xl p-5 mb-8 shadow-elevation-1">
          <!-- éæ¿¾æŒ‰éˆ•å€åŸŸï¼ˆå„ªåŒ–æ’ç‰ˆï¼‰ -->
          <div class="flex flex-wrap gap-3 mb-5">
            <button id="filter-all" class="bg-primary text-white px-5 py-2.5 rounded-lg text-sm font-medium hover:bg-[#007A69] transition btn-hover shadow-elevation-1">
              <i class="fa fa-th-list mr-1.5"></i>é¡¯ç¤ºå…¨éƒ¨
            </button>
            
            <!-- ä¸ƒå¤§è¦ç´ åˆ†é¡æŒ‰éˆ•ï¼ˆé«˜ç´šåŒ–æ¨£å¼ï¼‰ -->
            <button data-factor="æ°”è¡€" class="bg-blue-600 text-white px-5 py-2.5 rounded-lg text-sm font-medium hover:bg-blue-700 transition btn-hover shadow-elevation-1">
              <i class="fa fa-tag mr-1.5"></i>æ°£è¡€ä¸è¶³
            </button>
            <button data-factor="å¾®å¾ªç¯" class="bg-green-600 text-white px-5 py-2.5 rounded-lg text-sm font-medium hover:bg-green-700 transition btn-hover shadow-elevation-1">
              <i class="fa fa-tag mr-1.5"></i>å¾®å¾ªç’°ä¸é€š
            </button>
            <button data-factor="æ¯’ç´ " class="bg-yellow-600 text-white px-5 py-2.5 rounded-lg text-sm font-medium hover:bg-yellow-700 transition btn-hover shadow-elevation-1">
              <i class="fa fa-tag mr-1.5"></i>æ¯’ç´ 
            </button>
            <button data-factor="è¡€è„‚" class="bg-orange-600 text-white px-5 py-2.5 rounded-lg text-sm font-medium hover:bg-orange-700 transition btn-hover shadow-elevation-1">
              <i class="fa fa-tag mr-1.5"></i>è¡€è„‚ç²˜ç¨ 
            </button>
            <button data-factor="å¯’å‡‰æ¹¿" class="bg-purple-600 text-white px-5 py-2.5 rounded-lg text-sm font-medium hover:bg-purple-700 transition btn-hover shadow-elevation-1">
              <i class="fa fa-tag mr-1.5"></i>å¯’æ¶¼æ¿•ç—‡
            </button>
            <button data-factor="å…ç–«" class="bg-pink-600 text-white px-5 py-2.5 rounded-lg text-sm font-medium hover:bg-pink-700 transition btn-hover shadow-elevation-1">
              <i class="fa fa-tag mr-1.5"></i>å…ç–«
            </button>
            <button data-factor="æƒ…ç»ª" class="bg-indigo-600 text-white px-5 py-2.5 rounded-lg text-sm font-medium hover:bg-indigo-700 transition btn-hover shadow-elevation-1">
              <i class="fa fa-tag mr-1.5"></i>æƒ…ç·’
            </button>
          </div>
          
          <!-- è¼”åŠ©æŒ‰éˆ•èˆ‡çµ±è¨ˆä¿¡æ¯ï¼ˆå„ªåŒ–æ’ç‰ˆï¼‰ -->
          <div class="flex flex-wrap items-center justify-between gap-3">
            <button id="filter-selected" class="bg-gray-700 text-white px-5 py-2.5 rounded-lg text-sm font-medium hover:bg-gray-800 transition btn-hover shadow-elevation-1">
              <i class="fa fa-filter mr-1.5"></i>åªçœ‹å·²é¸
            </button>
            
            <div class="text-textPrimary text-base font-medium">
              å·²å‹¾é¸: <span id="selected-count" class="font-bold text-primary text-xl">0</span>/100 å€‹ç—‡ç‹€
            </div>
          </div>
        </div>

        <!-- ç—‡ç‹€æ¸…å–®å®¹å™¨ï¼ˆå¯¬å±3åˆ—å¸ƒå±€ï¼Œæå‡ç©ºé–“åˆ©ç”¨ç‡ï¼‰ -->
        <div id="symptoms-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-10">
          <!-- JSå‹•æ…‹ç”Ÿæˆç—‡ç‹€å¡ç‰‡ -->
        </div>

        <!-- æäº¤æŒ‰éˆ•ï¼ˆé«˜ç´šåŒ–è¨­è¨ˆï¼‰ -->
        <div class="text-center mt-10 mb-6">
          <button id="submit-checklist" class="bg-gradient-to-r from-primary to-[#006658] hover:from-[#007A69] hover:to-[#00594D] text-white font-bold py-4 px-10 rounded-xl shadow-elevation-2 transition btn-hover transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary/50">
            <i class="fa fa-paper-plane mr-2"></i>æäº¤è‡ªæª¢è¡¨
          </button>
          
          <p class="text-xs text-textSecondary/70 mt-3">
            æäº¤å¾Œå°‡ç”Ÿæˆå°ˆæ¥­åƒè€ƒå ±å‘Šï¼Œè«‹ç¢ºä¿æ‰€å¡«ä¿¡æ¯çœŸå¯¦æœ‰æ•ˆ
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- æäº¤æˆåŠŸæ¨¡æ…‹æ¡†ï¼ˆé«˜ç´šåŒ–è¨­è¨ˆï¼‰ -->
  <div id="success-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 hidden fade-in">
    <div class="bg-cardBg rounded-2xl p-8 max-w-md w-full mx-4 text-center shadow-elevation-3 transform transition-all hover:shadow-elevation-hover">
      <div class="inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-6">
        <i class="fa fa-check text-4xl text-primary"></i>
      </div>
      <h3 class="text-2xl font-bold text-textPrimary mb-3">æäº¤æˆåŠŸï¼</h3>
      <p class="text-textSecondary mb-8">
        æ‚¨çš„è‡ªæª¢è¡¨å·²é †åˆ©æäº¤ï¼Œæˆ‘å€‘å°‡ç‚ºæ‚¨ç”Ÿæˆå°ˆæ¥­å¥åº·åƒè€ƒå ±å‘Š
      </p>
      <button id="close-modal" class="bg-primary hover:bg-[#007A69] text-white font-bold py-3 px-8 rounded-lg transition btn-hover shadow-elevation-1 w-full">
        ç¢ºèª
      </button>
    </div>
  </div>

  <script>
    const LIFF_ID = "2008578880-NznKeG2a";
    const GAS_URL = "https://script.google.com/macros/s/AKfycbykBtM2_PM7IZ-ZUU4tgTqVa1xGhVQFaZ523FXc4ivdLz_GZ09sdmL6s5zk7SdloFuG/exec";
    const JSONP_TIMEOUT = 15000;
    const PERMANENT_EXPIRY_DATE = "9999/12/31";

    // ä¸ƒå¤§å¥åº·è¦ç´ å°æ‡‰æ¨£å¼
    const factorStyles = {
      æ°”è¡€: { className: 'bg-blue-50 text-blue-700', label: 'æ°£è¡€ä¸è¶³' },
      å¾®å¾ªç¯: { className: 'bg-green-50 text-green-700', label: 'å¾®å¾ªç’°ä¸é€š' },
      æ¯’ç´ : { className: 'bg-yellow-50 text-yellow-700', label: 'æ¯’ç´ ' },
      è¡€è„‚: { className: 'bg-orange-50 text-orange-700', label: 'è¡€è„‚ç²˜ç¨ ' },
      å¯’å‡‰æ¹¿: { className: 'bg-purple-50 text-purple-700', label: 'å¯’æ¶¼æ¿•ç—‡' },
      å…ç–«: { className: 'bg-pink-50 text-pink-700', label: 'å…ç–«' },
      æƒ…ç»ª: { className: 'bg-indigo-50 text-indigo-700', label: 'æƒ…ç·’' }
    };

    // æ™‚é–“é•·çŸ­é¸é …
    const durationOptions = [
      { value: '', label: 'è«‹é¸æ“‡æ™‚é–“' },
      { value: '1w', label: '1å‘¨å…§' },
      { value: '1-3m', label: '1-3å€‹æœˆ' },
      { value: '3-6m', label: '3-6å€‹æœˆ' },
      { value: '6m-1y', label: '6å€‹æœˆ-1å¹´' },
      { value: '1-2y', label: '1-2å¹´' },
      { value: '2-5y', label: '2-5å¹´' },
      { value: '5y+', label: '5å¹´ä»¥ä¸Š' }
    ];

    // ç—‡ç‹€è¼•é‡é¸é …
    const severityOptions = [
      { value: '', label: 'è«‹é¸æ“‡è¼•é‡' },
      { value: 'mild', label: 'è¼•å¾®ï¼ˆä¸å½±éŸ¿ç”Ÿæ´»ï¼‰' },
      { value: 'moderate', label: 'ä¸­ç­‰ï¼ˆå¶çˆ¾å½±éŸ¿ï¼‰' },
      { value: 'severe', label: 'åš´é‡ï¼ˆç¶“å¸¸å½±éŸ¿ï¼‰' }
    ];

    // å®Œæ•´ç—‡ç‹€æ•¸æ“š
    const fullSymptomData = [
      {seq: 1, symptom: "è¨˜æ†¶åŠ›ä¸‹é™", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 2, symptom: "æ€ç¶­æ–·é›»", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 3, symptom: "åæ‡‰é²éˆ", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 4, symptom: "å—œç¡", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 5, symptom: "å¤šå¤¢", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: "â—‹"},
      {seq: 6, symptom: "é ­æšˆ", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: "â—‹"},
      {seq: 7, symptom: "é ­ç–¼", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: "â—‹"},
      {seq: 8, symptom: "é ­éº»", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 9, symptom: "æšˆè»Š", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 10, symptom: "å¤±çœ ", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: "â—‹"},
      {seq: 11, symptom: "é ­é¢æ²¹è†©", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "â—‹", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 12, symptom: "è„«é«®", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 13, symptom: "é ­é«®ç¨€å°‘", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: "â—‹"},
      {seq: 14, symptom: "æ˜“æ‰“å“ˆæ¬ ", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 15, symptom: "å¸¸å˜†æ°£", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: "â—‹"},
      {seq: 16, symptom: "çœ¼ä¹¾æ¾€", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 17, symptom: "çœ¼ç™¢", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 18, symptom: "çœ¼ç—›", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 19, symptom: "è¦–åŠ›æ¨¡ç³Š", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 20, symptom: "çœ¼å±å¤š", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 21, symptom: "çœ¼æ€•å…‰æµæ·š", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 22, symptom: "éº¥ç²’è…«", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 23, symptom: "è½åŠ›ä¸‹é™", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: "â—‹"},
      {seq: 24, symptom: "è€³ç™¢", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 25, symptom: "è€³é³´", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: "â—‹"},
      {seq: 26, symptom: "è€³ç—›", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 27, symptom: "è€³å±å¤š", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 28, symptom: "è€³å…§æ½®æ¿•", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 29, symptom: "æ‰“é¼¾", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 30, symptom: "é¼»å¡", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 31, symptom: "æ„›æ‰“å™´åš", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 32, symptom: "å¸¸æµé»ƒæ¶•", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 33, symptom: "é¼»ç‚", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 34, symptom: "æ„Ÿå†’æ™‚é–“é•·", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 35, symptom: "å—“å­å¹²", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 36, symptom: "å–‰åš¨ç™¢", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 37, symptom: "å–‰åš¨ç—›", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "â—‹", æƒ…ç»ª: "â—‹"},
      {seq: 38, symptom: "å’³å—½", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 39, symptom: "ç—°å¤š", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 40, symptom: "å‘¼å¸å›°é›£", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 41, symptom: "å£è‹¦", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 42, symptom: "å£å¹²", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 43, symptom: "å£è‡­", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 44, symptom: "å£è…”æ½°ç˜", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 45, symptom: "èˆŒæ½°ç˜", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: "â—‹"},
      {seq: 46, symptom: "å˜´å”‡éº»", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 47, symptom: "èˆŒç¡¬", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 48, symptom: "èƒ¸æ‚¶æ°£çŸ­", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 49, symptom: "å¿ƒæ…Œå¿ƒæ‚¸", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 50, symptom: "å¿ƒçµç—›", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 51, symptom: "æŒ‡ç”²å‡¹é™·", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 52, symptom: "åŠæœˆç—•å°‘", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 53, symptom: "æ‰‹è…³è„«çš®", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 54, symptom: "æ‰‹è…³å‡ºæ±—", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 55, symptom: "æ‰‹è…³æ¶¼", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 56, symptom: "æ‰‹è…³ç†±", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 57, symptom: "æ‰‹è¶³éº»æœ¨", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 58, symptom: "å››è‚¢ä¹åŠ›", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 59, symptom: "éœè„ˆæ›²å¼µ", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "â—‹", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 60, symptom: "é—œç¯€ç—›", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 61, symptom: "è‚©é…¸ç—›", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 62, symptom: "é ¸æ¤ç—›", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 63, symptom: "è…°é…¸ç—›", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 64, symptom: "å°¿æ¸¾æ¿", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 65, symptom: "å°¿å¤šæ²«", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 66, symptom: "å°¿æœ‰æ€ªå‘³", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 67, symptom: "å¤œå°¿å¤š", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 68, symptom: "ä¾¿ç§˜", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: "â—‹"},
      {seq: 69, symptom: "å¤§ä¾¿ä¸æˆå½¢", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: "â—‹"},
      {seq: 70, symptom: "ä¾¿æºä¸æ·¨", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 71, symptom: "é«˜è¡€è„‚", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "â—‹", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 72, symptom: "é«˜è¡€å£“", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 73, symptom: "é«˜è¡€ç³–", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 74, symptom: "ä½è¡€ç³–", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 75, symptom: "ä½è¡€å£“", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 76, symptom: "ç¶“æœŸé ­ç—›", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 77, symptom: "æœˆç¶“é‡å°‘", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 78, symptom: "ç¶“æœŸæ™‚é•·", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 79, symptom: "ç¶“æœŸæ¨å", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 80, symptom: "æœˆç¶“æœ‰è¡€å¡Š", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 81, symptom: "ä¹³è…ºå¢ç”Ÿ", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 82, symptom: "ç¶“æœŸè…°ç—›", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 83, symptom: "ç¶“æœŸæå‰", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: "â—‹"},
      {seq: 84, symptom: "æœˆç¶“é‡å¤š", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: "â—‹"},
      {seq: 85, symptom: "ä¸æ„›èªªè©±", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 86, symptom: "æƒ¡å¿ƒ", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 87, symptom: "èƒƒè„¹", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 88, symptom: "èƒƒé…¸", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 89, symptom: "èƒƒç—›", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 90, symptom: "æ¶ˆåŒ–ä¸è‰¯", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 91, symptom: "è‚¥èƒ–", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "â—‹", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 92, symptom: "çš®è†šç™¢", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 93, symptom: "æ¿•ç–¹", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "â—‹", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 94, symptom: "å„ç¨®éæ•", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 95, symptom: "ç—¤ç˜¡", æ°”è¡€: "", å¾®å¾ªç¯: "â—‹", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 96, symptom: "è„‚è‚ªç˜¤", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "â—‹", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 97, symptom: "èº«é«”ç•°å‘³", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""},
      {seq: 98, symptom: "æ·‹å·´çµå¤§", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 99, symptom: "é»‘ç—£è®Šå¤§è®Šå¤š", æ°”è¡€: "", å¾®å¾ªç¯: "", æ¯’ç´ : "â—‹", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "â—‹", æƒ…ç»ª: ""},
      {seq: 100, symptom: "å½¢é«”æ¶ˆç˜¦", æ°”è¡€: "â—‹", å¾®å¾ªç¯: "", æ¯’ç´ : "", è¡€è„‚: "", å¯’å‡‰æ¹¿: "", å…ç–«: "", æƒ…ç»ª: ""}
    ];

    // ç‹€æ…‹è¨­ç½®å‡½æ•¸
    const setStatus = text => {
      const statusText = document.getElementById('status-text');
      if (statusText) statusText.textContent = text;
    };

    // éŒ¯èª¤é¡¯ç¤ºå‡½æ•¸ï¼ˆé«˜ç´šåŒ–æç¤ºï¼‰
    const showError = msg => {
      document.getElementById('status').classList.add('hidden');
      document.getElementById('result-card').classList.add('hidden');
      document.getElementById('checklist-section').classList.add('hidden');
      
      const el = document.getElementById('error-message');
      const contentEl = document.getElementById('error-content');
      if (el && contentEl) {
        contentEl.innerHTML = `<p class="font-medium">${msg}</p><div class="mt-4 flex justify-center">
          <button onclick="window.location.reload()" class="text-primary hover:text-[#007A69] font-medium flex items-center gap-1.5">
            <i class="fa fa-refresh"></i> é‡æ–°å˜—è©¦
          </button></div>`;
        el.classList.remove('hidden');
      }
    };

    // è¨ˆç®—å‰©é¤˜å¤©æ•¸å‡½æ•¸
    const calculateRemainingDaysByDate = (expiryDateStr) => {
      try {
        if (expiryDateStr === PERMANENT_EXPIRY_DATE) {
          return { displayDate: "æ°¸ä¹…æœ‰æ•ˆ", remainingDays: "æ°¸ä¹…æœ‰æ•ˆ" };
        }

        const dateRegex = /^\d{4}[-\/]\d{2}[-\/]\d{2}$/;
        if (!dateRegex.test(expiryDateStr)) {
          return { displayDate: "æ ¼å¼éŒ¯èª¤", remainingDays: "æ ¼å¼éŒ¯èª¤" };
        }

        const normalizedDateStr = expiryDateStr.replace(/-/g, '/');
        const [year, month, day] = normalizedDateStr.split('/').map(Number);
        
        const expiryDate = new Date(Date.UTC(year, month - 1, day));
        const today = new Date();
        const todayUTC = new Date(Date.UTC(today.getFullYear(), today.getMonth(), today.getDate()));

        if (isNaN(expiryDate.getTime())) {
          return { displayDate: "æ—¥æœŸç„¡æ•ˆ", remainingDays: "æ—¥æœŸç„¡æ•ˆ" };
        }

        const timeDiff = expiryDate - todayUTC;
        const remainingDays = Math.ceil(timeDiff / (1000 * 3600 * 24));

        const formattedDate = `${year}/${String(month).padStart(2, '0')}/${String(day).padStart(2, '0')}`;
        let remainingDaysText;
        
        if (remainingDays < 0) {
          remainingDaysText = "<span class='text-red-500 font-medium'>å·²éæœŸ</span>";
        } else if (remainingDays === 0) {
          remainingDaysText = "<span class='text-orange-500 font-medium'>æœ€å¾Œ1å¤©</span>";
        } else if (remainingDays <= 30) {
          remainingDaysText = `<span class='text-orange-500 font-medium'>${remainingDays} å¤©</span>`;
        } else {
          remainingDaysText = `${remainingDays} å¤©`;
        }

        return { displayDate: formattedDate, remainingDays: remainingDaysText };
      } catch (error) {
        console.error("åŸºæ–¼æ—¥æœŸè¨ˆç®—å‰©é¤˜å¤©æ•¸å¤±æ•—ï¼š", error, "æ—¥æœŸå­—ç¬¦ä¸²ï¼š", expiryDateStr);
        return { displayDate: "è¨ˆç®—éŒ¯èª¤", remainingDays: "è¨ˆç®—éŒ¯èª¤" };
      }
    };

    // æ¸²æŸ“ç—‡ç‹€å¡ç‰‡ï¼ˆé«˜ç´šåŒ–è¨­è¨ˆï¼‰
    function renderSymptomCards() {
      try {
        const container = document.getElementById('symptoms-container');
        if (!container) {
          console.error("ç—‡ç‹€å®¹å™¨æœªæ‰¾åˆ°");
          return false;
        }

        container.innerHTML = '';

        fullSymptomData.forEach((symptom, index) => {
          // æ”¶é›†ç›¸é—œçš„å¥åº·è¦ç´ 
          const relatedFactors = [];
          Object.entries(factorStyles).forEach(([key, style]) => {
            if (symptom[key] === "â—‹") {
              relatedFactors.push(`<span class="factor-tag ${style.className}">${style.label}</span>`);
            }
          });

          // å»ºç«‹ä¸‹æ‹‰é¸å–®é¸é …HTMLï¼ˆé«˜ç´šåŒ–æ¨£å¼ï¼‰
          const durationOptionsHtml = durationOptions.map(option => 
            `<option value="${option.value}">${option.label}</option>`
          ).join('');

          const severityOptionsHtml = severityOptions.map(option => 
            `<option value="${option.value}">${option.label}</option>`
          ).join('');

          // å»ºç«‹ç—‡ç‹€å¡ç‰‡ï¼ˆé«˜ç´šåŒ–è¨­è¨ˆï¼‰
          const card = document.createElement('div');
          card.className = 'symptom-card bg-cardBg border border-gray-100 rounded-xl p-4 shadow-elevation-1 card-hover';
          card.dataset.seq = symptom.seq;
          card.dataset.factors = Object.entries(factorStyles)
            .filter(([key]) => symptom[key] === "â—‹")
            .map(([key]) => key)
            .join(',');
          
          // å»¶é²å‹•ç•«ï¼Œå‰µå»ºç€‘å¸ƒæµæ•ˆæœ
          card.style.opacity = '0';
          card.style.transform = 'translateY(20px)';
          card.style.transition = 'all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)';
          card.style.transitionDelay = `${index * 15}ms`;
          
          card.innerHTML = `
            <div class="flex items-start gap-3">
              <!-- å‹¾é¸æ¡†ï¼ˆé«˜ç´šåŒ–æ¨£å¼ï¼‰ -->
              <div class="flex-shrink-0 mt-1">
                <input type="checkbox" id="symptom-${symptom.seq}" class="symptom-checkbox h-5 w-5 text-primary rounded border-gray-300 input-focus" data-seq="${symptom.seq}">
              </div>
              
              <!-- ç—‡ç‹€å…§å®¹ -->
              <div class="flex-1">
                <div class="flex justify-between items-start mb-2">
                  <label for="symptom-${symptom.seq}" class="text-textPrimary font-medium cursor-pointer">
                    <span class="text-primary mr-1.5 font-semibold">[${symptom.seq}]</span>${symptom.symptom}
                  </label>
                </div>
                
                <!-- ç›¸é—œå¥åº·è¦ç´  -->
                <div class="flex flex-wrap gap-1.5 mb-3">
                  ${relatedFactors.length > 0 ? relatedFactors.join('') : '<span class="factor-tag bg-gray-50 text-gray-500">ç„¡ç›¸é—œè¦ç´ </span>'}
                </div>
                
                <!-- è©³ç´°è³‡è¨Šï¼ˆé«˜ç´šåŒ–æ¨£å¼ï¼‰ -->
                <div class="symptom-details hidden mt-3 pt-3 border-t border-gray-100">
                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label class="block text-sm text-textSecondary mb-1.5">æ™‚é–“é•·çŸ­</label>
                      <select class="duration-select w-full border border-gray-200 rounded-lg px-3 py-2 text-sm input-focus bg-white">
                        ${durationOptionsHtml}
                      </select>
                    </div>
                    <div>
                      <label class="block text-sm text-textSecondary mb-1.5">ç—‡ç‹€è¼•é‡</label>
                      <select class="severity-select w-full border border-gray-200 rounded-lg px-3 py-2 text-sm input-focus bg-white">
                        ${severityOptionsHtml}
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          `;

          container.appendChild(card);
          
          // è§¸ç™¼å‹•ç•«
          setTimeout(() => {
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
          }, 50);
        });

        // ç¶å®šå‹¾é¸æ¡†äº‹ä»¶
        bindCheckboxEvents();
        console.log("ç—‡ç‹€å¡ç‰‡æ¸²æŸ“å®Œæˆ");
        return true;
      } catch (error) {
        console.error("æ¸²æŸ“ç—‡ç‹€å¡ç‰‡å‡ºéŒ¯ï¼š", error);
        return false;
      }
    }

    // ç¶å®šå‹¾é¸æ¡†äº‹ä»¶
    function bindCheckboxEvents() {
      const checkboxes = document.querySelectorAll('.symptom-checkbox');
      checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', function() {
          const card = this.closest('.symptom-card');
          const details = card.querySelector('.symptom-details');
          
          if (this.checked) {
            details.classList.remove('hidden');
            card.classList.add('border-primary/30', 'bg-secondary/20', 'shadow-elevation-2');
          } else {
            details.classList.add('hidden');
            card.classList.remove('border-primary/30', 'bg-secondary/20', 'shadow-elevation-2');
            
            // é‡ç½®é¸æ“‡
            const durationSelect = card.querySelector('.duration-select');
            const severitySelect = card.querySelector('.severity-select');
            if (durationSelect) durationSelect.value = '';
            if (severitySelect) severitySelect.value = '';
          }
          
          // æ›´æ–°å·²é¸è¨ˆæ•¸
          updateSelectedCount();
        });
      });
    }

    // æ›´æ–°å·²é¸è¨ˆæ•¸
    function updateSelectedCount() {
      const checkedCount = document.querySelectorAll('.symptom-checkbox:checked').length;
      document.getElementById('selected-count').textContent = checkedCount;
      return checkedCount;
    }

    // åˆå§‹åŒ–éæ¿¾æŒ‰éˆ•äº‹ä»¶
    function initFilterButtons() {
      const filterButtons = document.querySelectorAll('[data-factor], #filter-all');
      let currentFilter = 'all'; // é è¨­é¡¯ç¤ºå…¨éƒ¨
      let showOnlySelected = false; // é è¨­ä¸åƒ…çœ‹å·²é¸

      // ç¶å®šè¦ç´ éæ¿¾æŒ‰éˆ•äº‹ä»¶
      filterButtons.forEach(button => {
        button.addEventListener('click', function() {
          // æ›´æ–°æŒ‰éˆ•æ´»èºç‹€æ…‹
          filterButtons.forEach(btn => btn.classList.remove('shadow-elevation-2', 'scale-105'));
          this.classList.add('shadow-elevation-2', 'scale-105');
          
          // è¨­ç½®ç•¶å‰éæ¿¾æ¢ä»¶
          if (this.id === 'filter-all') {
            currentFilter = 'all';
          } else {
            currentFilter = this.dataset.factor;
          }
          
          // æ‡‰ç”¨éæ¿¾
          applyFilters();
        });
      });

      // ç¶å®šåªçœ‹å·²é¸æŒ‰éˆ•äº‹ä»¶
      document.getElementById('filter-selected').addEventListener('click', function() {
        showOnlySelected = !showOnlySelected;
        
        // æ›´æ–°æŒ‰éˆ•æ¨£å¼
        if (showOnlySelected) {
          this.classList.remove('bg-gray-700', 'hover:bg-gray-800');
          this.classList.add('bg-red-600', 'hover:bg-red-700', 'shadow-elevation-2');
          this.innerHTML = '<i class="fa fa-filter mr-1.5"></i>é¡¯ç¤ºå…¨éƒ¨å·²å‹¾é¸';
        } else {
          this.classList.remove('bg-red-600', 'hover:bg-red-700', 'shadow-elevation-2');
          this.classList.add('bg-gray-700', 'hover:bg-gray-800');
          this.innerHTML = '<i class="fa fa-filter mr-1.5"></i>åªçœ‹å·²é¸';
        }
        
        // æ‡‰ç”¨éæ¿¾
        applyFilters();
      });

      // æ‡‰ç”¨éæ¿¾æ¢ä»¶
      function applyFilters() {
        const symptomCards = document.querySelectorAll('.symptom-card');
        
        symptomCards.forEach(card => {
          let shouldShow = true;
          
          // è¦ç´ éæ¿¾
          if (currentFilter !== 'all') {
            const cardFactors = card.dataset.factors.split(',');
            shouldShow = cardFactors.includes(currentFilter);
          }
          
          // å·²é¸éæ¿¾ï¼ˆå¦‚æœé–‹å•Ÿï¼‰
          if (showOnlySelected && shouldShow) {
            const checkbox = card.querySelector('.symptom-checkbox');
            shouldShow = checkbox.checked;
          }
          
          // é¡¯ç¤ºæˆ–éš±è—å¡ç‰‡ï¼ˆå¹³æ»‘éæ¸¡ï¼‰
          if (shouldShow) {
            card.style.display = 'block';
            setTimeout(() => {
              card.style.opacity = '1';
              card.style.transform = 'translateY(0)';
            }, 10);
          } else {
            card.style.opacity = '0';
            card.style.transform = 'translateY(10px)';
            setTimeout(() => {
              card.style.display = 'none';
            }, 300);
          }
        });
      }
    }

    // åˆå§‹åŒ–æ§åˆ¶æŒ‰éˆ•
    function initControlButtons() {
      // æäº¤æŒ‰éˆ•
      document.getElementById('submit-checklist').addEventListener('click', function() {
        const selectedCount = updateSelectedCount();
        
        if (selectedCount === 0) {
          // é«˜ç´šåŒ–æç¤ºæ¡†ï¼ˆå¯æ›¿æ›ç‚ºè‡ªå®šç¾©æ¨¡æ…‹æ¡†ï¼‰
          alert('è«‹è‡³å°‘å‹¾é¸ä¸€å€‹ç—‡ç‹€');
          return;
        }
        
        // é©—è­‰å·²é¸ç—‡ç‹€æ˜¯å¦éƒ½å¡«å¯«äº†è©³ç´°è³‡è¨Š
        const checkedCheckboxes = document.querySelectorAll('.symptom-checkbox:checked');
        let isValid = true;
        let firstInvalidCard = null;
        
        checkedCheckboxes.forEach(checkbox => {
          const card = checkbox.closest('.symptom-card');
          const duration = card.querySelector('.duration-select').value;
          const severity = card.querySelector('.severity-select').value;
          
          if (!duration || !severity) {
            isValid = false;
            if (!firstInvalidCard) firstInvalidCard = card;
            
            // é«˜äº®æœªå¡«å¯«çš„å¡ç‰‡ï¼ˆé«˜ç´šåŒ–å‹•ç•«ï¼‰
            card.classList.add('border-red-500');
            card.style.transform = 'scale(1.03)';
            setTimeout(() => {
              card.classList.remove('border-red-500');
              card.style.transform = '';
            }, 1500);
          }
        });
        
        if (!isValid) {
          alert('éƒ¨åˆ†å·²é¸ç—‡ç‹€æœªå¡«å¯«å®Œæ•´è³‡è¨Šï¼Œè«‹æª¢æŸ¥å¾Œå†æäº¤');
          // æ»¾å‹•åˆ°ç¬¬ä¸€å€‹æœªå¡«å¯«çš„å¡ç‰‡
          if (firstInvalidCard) {
            firstInvalidCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
          return;
        }
        
        // æ”¶é›†æäº¤æ•¸æ“š
        const submitData = collectSubmitData();
        
        // èª¿ç”¨å¾Œç«¯æäº¤
        submitChecklistData(submitData);
      });

      // é—œé–‰æ¨¡æ…‹æ¡†
      document.getElementById('close-modal').addEventListener('click', function() {
        document.getElementById('success-modal').classList.add('hidden');
        // é‡ç½®è¡¨å–®
        resetChecklist();
      });
    }

    // æ”¶é›†æäº¤æ•¸æ“š
    function collectSubmitData() {
      const result = {
        userId: liff.getDecodedIDToken()?.sub || '',
        displayName: liff.getProfile()?.displayName || 'æœªçŸ¥ç”¨æˆ¶',
        submitTime: new Date().toISOString(),
        selectedSymptoms: []
      };

      const checkedCheckboxes = document.querySelectorAll('.symptom-checkbox:checked');
      checkedCheckboxes.forEach(checkbox => {
        const seq = checkbox.dataset.seq;
        const card = checkbox.closest('.symptom-card');
        const symptomName = card.querySelector('label').textContent.replace(/^\[\d+\]/, '').trim();
        const duration = card.querySelector('.duration-select').value;
        const severity = card.querySelector('.severity-select').value;
        
        // è½‰æ›ç‚ºæ˜“è®€çš„æ–‡å­—
        const durationText = durationOptions.find(opt => opt.value === duration)?.label || '';
        const severityText = severityOptions.find(opt => opt.value === severity)?.label || '';
        
        result.selectedSymptoms.push({
          seq: parseInt(seq),
          symptom: symptomName,
          duration: duration,
          durationText: durationText,
          severity: severity,
          severityText: severityText
        });
      });

      return result;
    }

    // æäº¤è‡ªæª¢è¡¨æ•¸æ“šåˆ°å¾Œç«¯
    function submitChecklistData(data) {
      console.log("æäº¤è‡ªæª¢è¡¨æ•¸æ“šï¼š", data);
      
      // é¡¯ç¤ºåŠ è¼‰ç‹€æ…‹
      setStatus('æ­£åœ¨æäº¤æ•¸æ“š...');
      document.getElementById('status').classList.remove('hidden');
      
      $.ajax({
        url: GAS_URL,
        dataType: 'jsonp',
        jsonp: 'callback',
        timeout: JSONP_TIMEOUT,
        data: {
          action: 'submitChecklist',
          data: JSON.stringify(data)
        },
        success: function(resp) {
          console.log("æäº¤æˆåŠŸï¼š", resp);
          document.getElementById('status').classList.add('hidden');
          document.getElementById('success-modal').classList.remove('hidden');
        },
        error: function(xhr, status, error) {
          console.error("æäº¤å¤±æ•—ï¼š", status, error);
          document.getElementById('status').classList.add('hidden');
          showError('æäº¤å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ï¼ˆéŒ¯èª¤ï¼š' + status + 'ï¼‰');
        }
      });
    }

    // é‡ç½®è‡ªæª¢è¡¨
    function resetChecklist() {
      const checkboxes = document.querySelectorAll('.symptom-checkbox');
      checkboxes.forEach(checkbox => {
        if (checkbox.checked) {
          checkbox.checked = false;
          checkbox.dispatchEvent(new Event('change'));
        }
      });
      
      // é‡ç½®éæ¿¾ç‹€æ…‹
      document.getElementById('filter-all').click();
      const filterSelectedBtn = document.getElementById('filter-selected');
      if (filterSelectedBtn.classList.contains('bg-red-600')) {
        filterSelectedBtn.click();
      }
    }

    // å¼·åˆ¶é¡¯ç¤ºè‡ªæª¢è¡¨å€åŸŸ
    function forceShowChecklist() {
      try {
        const checklistSection = document.getElementById('checklist-section');
        if (!checklistSection) {
          console.error("è‡ªæª¢è¡¨å€åŸŸå…ƒç´ æœªæ‰¾åˆ°");
          alert("è‡ªæª¢è¡¨åŠ è¼‰å¤±æ•—ï¼Œè«‹åˆ·æ–°é é¢é‡è©¦");
          return false;
        }

        // ç§»é™¤hiddené¡ï¼Œç¢ºä¿é¡¯ç¤º
        checklistSection.classList.remove('hidden');
        checklistSection.style.display = 'block';
        
        // æ¸²æŸ“ç—‡ç‹€å¡ç‰‡
        const renderSuccess = renderSymptomCards();
        if (renderSuccess) {
          // åˆå§‹åŒ–éæ¿¾æŒ‰éˆ•å’Œæ§åˆ¶æŒ‰éˆ•
          initFilterButtons();
          initControlButtons();
          
          // æ»¾å‹•åˆ°è‡ªæª¢è¡¨å€åŸŸ
          setTimeout(() => {
            checklistSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }, 100);
        }
        
        console.log("è‡ªæª¢è¡¨å€åŸŸå·²å¼·åˆ¶é¡¯ç¤º");
        return true;
      } catch (error) {
        console.error("å¼·åˆ¶é¡¯ç¤ºè‡ªæª¢è¡¨å‡ºéŒ¯ï¼š", error);
        alert("è‡ªæª¢è¡¨é¡¯ç¤ºå¤±æ•—ï¼Œè«‹åˆ·æ–°é é¢é‡è©¦");
        return false;
      }
    }

    // é é¢åŠ è¼‰å®Œæˆå¾Œåˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      console.log("é é¢åŠ è¼‰å®Œæˆï¼Œé–‹å§‹åˆå§‹åŒ–");

      // åˆå§‹åŒ– LIFF
      setStatus('æ­£åœ¨åˆå§‹åŒ–ç³»çµ±ï¼Œè«‹ç¨å€™...');
      liff.init({ liffId: LIFF_ID }, { disableRedirect: true })
        .then(() => {
          console.log("LIFF åˆå§‹åŒ–æˆåŠŸ");
          if (!liff.isLoggedIn()) {
            console.log("ç”¨æˆ¶æœªç™»éŒ„ï¼Œè·³è½‰ç™»éŒ„");
            liff.login();
          } else {
            console.log("ç”¨æˆ¶å·²ç™»éŒ„ï¼Œé–‹å§‹é©—è­‰ä¿¡æ¯");
            getProfileAndVerify();
          }
        })
        .catch(err => {
          console.error("LIFF åˆå§‹åŒ–å¤±æ•—ï¼š", err);
          showError('ç³»çµ±åˆå§‹åŒ–å¤±æ•—ï¼š' + err.message);
        });
    });

    // ç²å–ç”¨æˆ¶ä¿¡æ¯ä¸¦é©—è­‰
    function getProfileAndVerify() {
      setStatus('é©—è­‰ä½¿ç”¨è€…è³‡è¨Šä¸­...');
      liff.getProfile()
        .then(profile => {
          console.log("ç²å–ç”¨æˆ¶ä¿¡æ¯æˆåŠŸï¼š", profile);
          callGasBackend(profile.userId, profile.displayName || 'æœªçŸ¥ç”¨æˆ¶');
        })
        .catch(err => {
          console.error("ç²å–ä½¿ç”¨è€…è³‡æ–™å¤±æ•—ï¼š", err);
          showError('å–å¾—ä½¿ç”¨è€…è³‡æ–™å¤±æ•—ï¼š' + err.message);
        });
    }

    // èª¿ç”¨GASå¾Œç«¯
    function callGasBackend(userId, displayName) {
      console.log("èª¿ç”¨å¾Œç«¯é©—è­‰ç”¨æˆ¶ï¼š", userId, displayName);
      $.ajax({
        url: GAS_URL,
        dataType: 'jsonp',
        jsonp: 'callback',
        timeout: JSONP_TIMEOUT,
        data: { 
          userId: userId, 
          displayName: displayName,
          action: 'verifyUser',
          needExpiryDate: true
        },
        success: function(resp) {
          console.log("å¾Œç«¯è¿”å›æ•¸æ“šï¼š", resp);
          if (resp.status === "error") {
            showError(resp.message);
          } else {
            renderResult(resp);
          }
        },
        error: function(xhr, status, error) {
          console.error("AJAX éŒ¯èª¤ï¼š", status, error);
          let errorMsg = 'èˆ‡ä¼ºæœå™¨é€šè¨Šå¤±æ•—';
          if (status === 'timeout') errorMsg = 'è«‹æ±‚è¶…æ™‚ï¼Œè«‹æª¢æŸ¥ç¶²çµ¡é€£æ¥';
          else if (status === 'parsererror') errorMsg = 'æ•¸æ“šè§£æéŒ¯èª¤';
          showError(errorMsg);
        }
      });
    }

    // æ¸²æŸ“é©—è­‰çµæœå’Œè‡ªæª¢è¡¨ï¼ˆé«˜ç´šåŒ–å±•ç¤ºï¼‰
    function renderResult(resp) {
      console.log("é–‹å§‹æ¸²æŸ“é©—è­‰çµæœå’Œè‡ªæª¢è¡¨");
      
      // éš±è—ç‹€æ…‹å’ŒéŒ¯èª¤ä¿¡æ¯
      document.getElementById('status').classList.add('hidden');
      document.getElementById('error-message').classList.add('hidden');

      // æ¸²æŸ“çµæœå¡ç‰‡
      const card = document.getElementById('result-card');
      const main = document.getElementById('result-main');
      const details = document.getElementById('result-details');

      const isProUser = resp.isAdmin === true;
      const userName = resp.displayName || 'æœªçŸ¥ç”¨æˆ¶';
      const expiryDateStr = resp.expiryDate || resp.endDate || resp.expireDate || '';

      if (isProUser) {
        const { displayDate, remainingDays } = calculateRemainingDaysByDate(expiryDateStr);
        main.innerHTML = `<span class="text-primary"><i class="fa fa-check-circle mr-2"></i>å°ˆæ¥­ç”¨æˆ¶é©—è­‰é€šé</span>`;
        details.innerHTML = `
          <div><i class="fa fa-user-circle text-primary mr-1.5"></i>ç”¨æˆ¶åç¨±ï¼š<span class="font-medium">${userName}</span></div>
          <div><i class="fa fa-calendar-check-o text-primary mr-1.5"></i>ä½¿ç”¨æœŸé™ï¼š<span class="font-medium">${displayDate}</span></div>
          <div><i class="fa fa-clock-o text-primary mr-1.5"></i>å‰©é¤˜å¤©æ•¸ï¼š${remainingDays}</div>
        `;
      } else {
        const usageCount = resp.usageCount || 0;
        const remainingTimes = Math.max(0, 3 - usageCount);
        
        // æ™®é€šç”¨æˆ¶å‰©é¤˜æ¬¡æ•¸ç‚º0æ™‚ï¼Œé¡¯ç¤ºéŒ¯èª¤ä¿¡æ¯
        if (remainingTimes <= 0) {
          main.innerHTML = `<span class="text-orange-600"><i class="fa fa-exclamation-circle mr-2"></i>æ™®é€šç”¨æˆ¶ä½¿ç”¨æ¬¡æ•¸å·²ç”¨å®Œ</span>`;
          details.innerHTML = `
            <div><i class="fa fa-user-circle text-orange-600 mr-1.5"></i>ç”¨æˆ¶åç¨±ï¼š<span class="font-medium">${userName}</span></div>
            <div><i class="fa fa-calendar-o text-orange-600 mr-1.5"></i>ä½¿ç”¨æœŸé™ï¼š<span class="font-medium">-</span></div>
            <div><i class="fa fa-refresh text-orange-600 mr-1.5"></i>å‰©é¤˜æ¬¡æ•¸ï¼š<span class="text-red-500 font-medium">${remainingTimes} æ¬¡</span></div>
            <div><i class="fa fa-info-circle text-orange-600 mr-1.5"></i>æç¤ºï¼šè«‹è¯ç¹«ç®¡ç†å“¡å‡ç´šç‚ºå°ˆæ¥­ç”¨æˆ¶</div>
          `;
          
          // é¡¯ç¤ºçµæœå¡ç‰‡
          card.classList.remove('hidden');
          return; // çµ‚æ­¢åŸ·è¡Œï¼Œä¸é¡¯ç¤ºè‡ªæª¢è¡¨
        } else {
          main.innerHTML = `<span class="text-textPrimary"><i class="fa fa-user mr-2"></i>æ™®é€šç”¨æˆ¶é©—è­‰é€šé</span>`;
          details.innerHTML = `
            <div><i class="fa fa-user-circle text-textPrimary mr-1.5"></i>ç”¨æˆ¶åç¨±ï¼š<span class="font-medium">${userName}</span></div>
            <div><i class="fa fa-calendar-o text-textPrimary mr-1.5"></i>ä½¿ç”¨æœŸé™ï¼š<span class="font-medium">-</span></div>
            <div><i class="fa fa-refresh text-textPrimary mr-1.5"></i>å‰©é¤˜æ¬¡æ•¸ï¼š<span class="font-medium text-primary">${remainingTimes} æ¬¡</span></div>
          `;
        }
      }

      // é¡¯ç¤ºçµæœå¡ç‰‡
      card.classList.remove('hidden');
      console.log("çµæœå¡ç‰‡å·²é¡¯ç¤º");

      // é¡¯ç¤ºè‡ªæª¢è¡¨å€åŸŸ
      setTimeout(() => {
        forceShowChecklist();
      }, 300);
    }
  </script>
</body>
</html>
